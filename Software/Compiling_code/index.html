<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://www630.lamp.le.ac.uk/Software/Compiling_code/">
  <link rel="shortcut icon" href="../../img/favicon.ico">
<title>DIRAC - DIaL3 User Guide</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Compiling code";
    var mkdocs_page_input_path = "Software/Compiling_code.md";
    var mkdocs_page_url = "/Software/Compiling_code/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> DIaL3  <img src='/img/WhiteBlockUoLlogo.png' class="logo" alt="UoL Logo"/></a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">About</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../About_dial3/architecture/">Architecture</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../About_dial3/filesystem/">Filesystem</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Statrted</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Getting_started/create_account/">Create Account</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Getting_started/connecting_dial3/">Connecting</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Software</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../software_installed/">Software Installed on DIaL3</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../module_system/">Software Module System</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Compiling code</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#compiler-names-for-various-languages">Compiler names for various languages</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#how-to-load-a-particular-compiler">How to load a particular Compiler?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#how-to-compile-your-serial-code">How to compile your Serial code?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#how-to-compile-your-openmp-code">How to compile your OpenMP code?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#how-to-compile-your-mpi-code">How to compile your MPI code?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#how-to-compile-code-with-debug-or-optimisation-flags">How to compile code with Debug or Optimisation flags?</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Python/">Python</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Run a Computation</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Run_computation/dos_and_donts/">Dos and Don'ts</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Run_computation/interactive_or_batch/">Intercative or batch</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Run_computation/batch_system/">Batch System</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Run_computation/Slurm_workload_manager/">SLURM Worload Manager</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Run_computation/interactive_job/">Interactive Job</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Run_computation/job_types/">Job types</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Run_computation/monitor_jobs/">Monitor jobs</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Analyse code using Arm Forge</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Analyse_code/about_arm_forge/">What is Arm Forge</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Analyse_code/Install_arm_forge/">Install Arm Forge</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Analyse_code/Perf_report/">Performance Report</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Analyse_code/Profile_code/">Profile your Code</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Analyse_code/Debug_code/">Debug your Code</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Help</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Support/FAQ/">Frequently asked questions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Support/Contact/">Contact</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Support/Support_staff/">Support Staff</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">DIaL3  <img src='/img/WhiteBlockUoLlogo.png' class="logo" alt="UoL Logo"/></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Software &raquo;</li>
        
      
    
    <li>Compiling code</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="compiling-code-on-dial3">Compiling Code On DIaL3</h1>
<p>If you want to compile your code on DIaL3, there are two compilers available for C, C++ and Fortran: the Intel compilers and the GNU Compiler Collection (GCC).</p>
<p>Below we give a list of compilers for various languages:</p>
<h4 id="compiler-names-for-various-languages">Compiler names for various languages</h4>
<table>
<thead>
<tr>
<th>Language</th>
<th>GCC</th>
<th>Intel</th>
</tr>
</thead>
<tbody>
<tr>
<td>C</td>
<td><code>gcc</code></td>
<td><code>icc</code></td>
</tr>
<tr>
<td>C++</td>
<td><code>g++</code></td>
<td><code>icpc</code></td>
</tr>
<tr>
<td>F77, F90, F95</td>
<td><code>gfortran</code></td>
<td><code>ifort</code></td>
</tr>
</tbody>
</table>
<h3 id="how-to-load-a-particular-compiler">How to load a particular Compiler?</h3>
<p>You can either load the GCC or Intel compilers by using the <code>module load</code> command. For GCC compilers, you can use something like:</p>
<pre><code class="language-bash">$ module load  gcc/9.3.0
</code></pre>
<p>and for Intel compilers, you can use:</p>
<pre><code class="language-bash">$ module load intel-parallel-studio/cluster.2019.5
</code></pre>
<p>The Intel Parallel Studio Cluster module gives you many things in addition to the default <code>icc</code>, <code>icpc</code>  and <code>ifort</code> compilers. It also provides you with tools such as Vtune (Debugger), ITAC (Intel Trace Analyser and Collector) etc.</p>
<h3 id="how-to-compile-your-serial-code">How to compile your Serial code?</h3>
<p>Once you have loaded a suitable compiler, you can compile your serial code using one of the following commands.</p>
<p>a. For C Code</p>
<pre><code class="language-bash"># If you are using GCC compiler
$ gcc my_serial_code.c -o my_binary_file_name.o

# If you are using Intel compiler
$ icc my_serial_code.c -o my_binary_file_name.o
</code></pre>
<p>b. For C++ Code</p>
<pre><code class="language-bash"># If you are using GCC compiler
$ g++ my_serial_code.cpp -o my_binary_file_name.o

# If you are using Intel compiler
$ icpc my_serial_code.cpp -o my_binary_file_name.o
</code></pre>
<p>c. For Fortran Code</p>
<pre><code class="language-bash"># If you are using GCC compiler
$ gfortran my_serial_code.f90 -o my_binary_file_name.o

# If you are using Intel compiler
$ ifort my_serial_code.f90 -o my_binary_file_name.o
</code></pre>
<h3 id="how-to-compile-your-openmp-code">How to compile your OpenMP code?</h3>
<p>Many scientific codes use more than one cores available on one single node of a HPC system in order to reduce the computational time. In most cases, OpenMP is the default choice for thread based parallelism or shared memory programming. In order to compile your OpenMP code, all you need to add is additional flag during the compilation stage which is <code>-fopenmp</code> for GCC compilers and <code>-qopenmp</code> for Intel compilers. </p>
<p>After loading your compiler, you can compile your OpenMP code using one of the following commands.</p>
<p>a. For C Code</p>
<pre><code class="language-bash"># If you are using GCC compiler
$ gcc -fopenmp my_openmp_code.c -o my_binary_file_name.o

# If you are using Intel compiler
$ icc -qopenmp my_openmp_code.c -o my_binary_file_name.o
</code></pre>
<p>b. For C++ Code</p>
<pre><code class="language-bash"># If you are using GCC compiler
$ g++ -fopenmp my_openmp_code.cpp -o my_binary_file_name.o

# If you are using Intel compiler
$ icpc -qopenmp my_openmp_code.cpp -o my_binary_file_name.o
</code></pre>
<p>c. For Fortran Code</p>
<pre><code class="language-bash"># If you are using GCC compiler
$ gfortran -fopenmp my_openmp_code.f90 -o my_binary_file_name.o

# If you are using Intel compiler
$ ifort -qopenmp my_openmp_code.f90 -o my_binary_file_name.o
</code></pre>
<h3 id="how-to-compile-your-mpi-code">How to compile your MPI code?</h3>
<p>Message Passing Interface or MPI is the default application programming interface (API) used in the HPC software development for using more than one node on the system. It allows you to communicate between tasks by sharing messages between them.</p>
<p>To compile your MPI code, first load a compiler of your choice and then use one of the following commands.</p>
<p>a. For C Code</p>
<pre><code class="language-bash"># If you are using GCC compiler
$ mpicc my_mpi_code.c -o my_binary_file_name.o

# If you are using Intel compiler
$ mpiicc my_mpi_code.c -o my_binary_file_name.o
</code></pre>
<p>b. For C++ Code</p>
<pre><code class="language-bash"># If you are using GCC compiler
$ mpicxx my_mpi_code.cpp -o my_binary_file_name.o

# If you are using Intel compiler
$ mpiicpc my_mpi_code.cpp -o my_binary_file_name.o
</code></pre>
<p>c. For Fortran Code</p>
<pre><code class="language-bash"># If you are using GCC compiler
$ mpif90 my_mpi_code.f90 -o my_binary_file_name.o

# If you are using Intel compiler
$ mpiifort my_mpi_code.f90 -o my_binary_file_name.o
</code></pre>
<h3 id="how-to-compile-code-with-debug-or-optimisation-flags">How to compile code with Debug or Optimisation flags?</h3>
<p>All the command that are given above can also be used by using additional flags either for debugging purpose or for Optimisation. The following table lists some basic options:</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>-g</td>
<td>Enables debugging information.</td>
</tr>
<tr>
<td>-Ox</td>
<td>Enables compiler optimization, where <code>X</code> represents the optimization level and is one of 0, 1, 2, 3.</td>
</tr>
</tbody>
</table>
<p>An example usage of an optimisation flag is given below:</p>
<pre><code class="language-bash">$ icc -O3 my_code.c -o my_binary_file.o 
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Python/" class="btn btn-neutral float-right" title="Python">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../module_system/" class="btn btn-neutral" title="Software Module System"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../module_system/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Python/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
