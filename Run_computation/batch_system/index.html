<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://www630.lamp.le.ac.uk/Run_computation/batch_system/">
  <link rel="shortcut icon" href="../../img/favicon.ico">
<title>DIRAC - DIaL3 User Guide</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Batch System";
    var mkdocs_page_input_path = "Run_computation/batch_system.md";
    var mkdocs_page_url = "/Run_computation/batch_system/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> DIaL3  <img src='/img/WhiteBlockUoLlogo.png' class="logo" alt="UoL Logo"/></a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">About</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../About_dial3/architecture/">Architecture</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../About_dial3/filesystem/">Filesystem</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Started</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Getting_started/create_account/">Create Account</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Getting_started/connecting_dial3/">Connecting</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Software</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Software/software_installed/">Software Installed on DIaL3</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Software/module_system/">Software Module System</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Software/Compiling_code/">Compiling code</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Software/Python/">Python</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Running Jobs</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../dos_and_donts/">Dos and Don'ts</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../interactive_or_batch/">Interactive or batch</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Batch System</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#creating-a-job-script">Creating a job script</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#how-to-pass-command-line-parameters-to-the-job-script">How to pass command-line parameters to the job script</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Slurm_workload_manager/">SLURM Worload Manager</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../interactive_job/">Interactive Job</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../job_types/">Job types</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../monitor_jobs/">Monitor jobs</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Analyse code using Arm Forge</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Analyse_code/about_arm_forge/">What is Arm Forge</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Analyse_code/Install_arm_forge/">Install Arm Forge</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Analyse_code/Perf_report/">Performance Report</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Analyse_code/Profile_code/">Profile your Code</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Analyse_code/Debug_code/">Debug your Code</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Help</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Support/Tips_and_Tricks/">Tips and Tricks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Support/FAQ/">Frequently asked questions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Support/Contact/">Contact</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Support/Support_staff/">Support Staff</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">DIaL3  <img src='/img/WhiteBlockUoLlogo.png' class="logo" alt="UoL Logo"/></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Running Jobs &raquo;</li>
        
      
    
    <li>Batch System</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="batch-system">Batch system</h1>
<p>The DiaL3 system is shared across many users and to ensure fair use everyone must do their computations by submitting jobs through a batch system that will execute the applications on the available resources.</p>
<p>The batch system on DiAL3 is <a href="https://slurm.schedmd.com/">SLURM</a> (Simple Linux Utility for Resource Management.)</p>
<h2 id="creating-a-job-script">Creating a job script</h2>
<p>To run a job on the system you need to create a job script. A job script is a regular shell script (bash) with some directives specifying the number of CPUs, memory, etc., that will be interpreted by the batch system upon submission.</p>
<p>You can find job script examples in <a href="../job_types/">Job script examples</a></p>
<p>After you wrote your job script as shown in the examples, you can submit it to the scheduler by using the following command:</p>
<pre><code class="language-bash">$ sbatch jobscript.sh
</code></pre>
<h2 id="how-to-pass-command-line-parameters-to-the-job-script">How to pass command-line parameters to the job script</h2>
<p>It is sometimes convenient if you do not have to edit the job script every time you want to change the input file. Or perhaps you want to submit hundreds of jobs and loop over a range of input files. For this it is handy to pass command-line parameters to the job script. </p>
<p>In SLURM you can do this by:</p>
<pre><code class="language-bash">$ sbatch myscript.sh myinput myoutput
</code></pre>
<p>And then you can pick the parameters up inside the job script:</p>
<pre><code class="language-bash">#!/bin/bash

#SBATCH ...
#SBATCH ...
...

# argument 1 is myinput
# argument 2 is myoutput
mybinary.x &lt; ${1} &gt; ${2}
</code></pre>
<p>Please note that any command starting with <code>#SBATCH</code> is an instruction to the scheduler and not a comment.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Slurm_workload_manager/" class="btn btn-neutral float-right" title="SLURM Worload Manager">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../interactive_or_batch/" class="btn btn-neutral" title="Interactive or batch"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../interactive_or_batch/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Slurm_workload_manager/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
